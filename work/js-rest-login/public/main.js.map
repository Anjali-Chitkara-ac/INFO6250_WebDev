{"version":3,"sources":["webpack://js-rest-login/./src/services.js","webpack://js-rest-login/webpack/bootstrap","webpack://js-rest-login/webpack/runtime/define property getters","webpack://js-rest-login/webpack/runtime/hasOwnProperty shorthand","webpack://js-rest-login/webpack/runtime/make namespace object","webpack://js-rest-login/./src/main.js"],"names":["checkLoginStatus","fetch","method","Promise","reject","error","then","response","ok","json","err","performLogin","username","headers","Headers","body","JSON","stringify","addItemToList","item","sortByRank","items","rank","num","sort","a","b","x","y","sortedItems","addItemToListWithRank","deleteItemFromList","itemName","logout","updateRank","newRank","addLogin","list","document","querySelector","input","listItems","logOutButton","status","userInfo","showContent","renderTodos","updateStatus","showLogin","classList","add","remove","addEventListener","usernameEl","value","console","log","e","target","contains","itemToBeAdded","dataset","getElementById","cleanRank","replace","message","innerText","convertError","listEl","html","map","name","join","innerHTML"],"mappings":"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","file":"main.js","sourcesContent":["export const checkLoginStatus = function() {\n  return fetch('/session', {\n    method: 'GET',\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\nexport const performLogin = function( username ) {\n  return fetch('/login', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ username }),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\n\nexport const addItemToList = function(item){\n  return fetch('/addItem',{\n    method : 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({item}),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err));\n  });\n}\n\nexport const sortByRank = function(items, rank, num) {\n  return items.sort(function(a, b) {\n      let x = a[rank]; let y = b[rank];\n      return ((x < y) ? num * -1 : ((x > y) ? num * 1 : 0));\n  });\n}\n\nexport const sortedItems = function() {\n\n   return fetch('/getItems',{\n     method : 'POST',\n   })\n   .catch( () => {\n     return Promise.reject({ error: 'network-error' });\n    })\n   .then( response => {\n     if(response.ok) {\n       return response.json();\n     }\n     return response.json().then( err => Promise.reject(err) );\n   });\n}\n\nexport const addItemToListWithRank = function(item,rank){\n  return fetch('/addItemWithRank',{\n    method : 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({item,rank}),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      //console.log(\"addItemToListWithRank response is ok\");\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n}\n\n  export const deleteItemFromList = function(itemName){\n  return fetch(`/deleteItem/${itemName}`,{\n    method : 'DELETE'\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n }\n\n export const logout = function(){\n  return fetch('/logout', {\n    method: 'POST'\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n }\n\n export const updateRank = function(itemName,newRank){\n  return deleteItemFromList(itemName)\n  .then(response => {\n     return addItemToListWithRank(itemName,newRank);\n  });\n\n }\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nimport {\n  checkLoginStatus,\n  performLogin,\n  addItemToList,\n  deleteItemFromList,\n  logout,\n  updateRank,\n  sortedItems,\n  sortByRank\n} from './services';\n\nlet items = {};\n\naddLogin();\n\nconst list = document.querySelector('#list-app .logged-in'); //loggedin div\nconst input = document.querySelector('#list-app .logged-in .add-item');\nconst listItems = document.querySelector('#list-app .logged-in .items');\nconst logOutButton = document.querySelector('#list-app .logged-in .logout');\nconst status = document.querySelector('.status');\n\ncheckLoginStatus()\n.then((userInfo) => {\n  showContent();\n  items = userInfo.items;\n  renderTodos(items);\n   updateStatus('');\n})\n.catch( error => {\n  showLogin();\n  updateStatus(error.error);\n});\n\n//Move these HTML-changing functions to an import from another file\nfunction showContent() {\n  document.querySelector('#list-app .login').classList.add('hidden');\n  document.querySelector('#list-app .logged-in').classList.remove('hidden');\n}\n\nfunction showLogin() {\n  document.querySelector('#list-app .login').classList.remove('hidden');\n  document.querySelector('#list-app .logged-in').classList.add('hidden');\n}\n\nfunction addLogin() { //when login is pressed\n  document.querySelector('#list-app .login button').addEventListener('click', () => {\n    const usernameEl = document.querySelector('#list-app .login input');\n    const username = usernameEl.value;\n    // call service\n    performLogin(username)\n    .then( items => {\n      showContent();\n      renderTodos(items);\n       updateStatus('');\n    })\n    .catch( err => {\n      updateStatus(err.error);\n      console.log(err);\n    })\n  });\n}\n\n//logout\nlogOutButton.addEventListener('click',() => {\n  //call service\n  logout()\n  .then((userInfo) => {\n\n  showLogin();\n  })\n  .catch( error => {\n  showContent();\n  })\n  });\n\n\nlist.addEventListener('click',(e) => {\n  //add\n  if(e.target.classList.contains('add')){\n    const itemToBeAdded = input.value;\n    //call service\n    //get username from cookie\n    addItemToList(itemToBeAdded)\n    .then( items => {\n      showContent();\n      renderTodos(items);\n       updateStatus('');\n    })\n    .catch( err => {\n      updateStatus(err.error);\n      console.log(err);\n    })\n  }\n  //sortItems\n  if(e.target.classList.contains('sortAsc')){\n    sortedItems()\n    .then( items => {\n      sortByRank(items, 'rank',1);\n      showContent();\n      renderTodos(items);\n       updateStatus('');\n    })\n    .catch( err => {\n      updateStatus(err.error);\n      console.log(err);\n    })\n  }\n  if(e.target.classList.contains('sortDec')){\n    sortedItems()\n    .then( items => {\n      sortByRank(items, 'rank',-1);\n      showContent();\n      renderTodos(items);\n       updateStatus('');\n    })\n    .catch( err => {\n      updateStatus(err.error);\n      console.log(err);\n    })\n  }\n});\n\n\nlistItems.addEventListener('click',(e) =>{\n  //delete\n  if(e.target.classList.contains('delete') ) {\n      const itemName = e.target.dataset.itemName;\n      deleteItemFromList(itemName)\n      .then( items => {\n        showContent();\n        renderTodos(items);\n         updateStatus('');\n      })\n      .catch( err => {\n      updateStatus(err.error);\n      console.log(err);\n      }) ;\n    }\n  //update rank\n  if(e.target.classList.contains('update')){\n    const itemName = e.target.dataset.itemName;\n\n    const newRank = document.getElementById(itemName).value;\n    const cleanRank = newRank.replace(/[^0-9_]/g, '');\n\n    //call service\n    //itemName, newRAnk\n    updateRank(itemName,cleanRank)\n    .then( items => {\n        showContent();\n        console.log('in update client');\n        console.log({items});\n        renderTodos(items);\n         updateStatus('');\n      })\n      .catch( err => {\n      updateStatus(err.error);\n      console.log(err);\n      }) ;\n  }\n\n});\n\nfunction updateStatus( message ) {\n    status.innerText = message;\n  }\n\nfunction convertError(response) {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json()\n    .then( err => Promise.reject(err) );\n  }\n\nfunction renderTodos(items) {\n  const listEl = document.querySelector('#list-app .items');\n\n  if(!items)\n    return;\n\n  const html = items.map( item => {\n    return `<li class=\"item\"><span> #${item.rank}   ${item.name} </span>\n    <button data-item-name=\"${item.name}\" type=\"button\" class=\"delete\">Delete</button>\n    <input data-item-name=\"${item.name}\" class=\"rank\" id=\"${item.name}\">\n    <button data-item-name=\"${item.name}\" type=\"button\" class=\"update\">Update rank</button>\n    </li>`;\n  }).join(\"\\n\");\n  listEl.innerHTML = html;\n}\n"],"sourceRoot":""}
